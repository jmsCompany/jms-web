<script type="text/javascript">
$(document).ready(function () {
   $.scrollajax({
                     url: 'notifations',
                     div_id:'notifications1'
                     },function(result){
                          $(result).each(function(i,notification){
                          var clazz='jmsdivbg0';
                            if(i%2==0)
                            clazz='jmsdivbg1';
			             $('#notifications1').append("<div class='"+clazz+"'> 标题： <br/> 事件：" + notification.event +", 创建者： " + notification.username+"<br/> 事件描述："  + notification.details+ "<br/> 事件发生事件："  + notification.creationTime +"</div>");
                      
                      });


         });
  });
</script>

<div id="notifications1" class="scroll">
	
</div>
<input id="page_notifications1" name="start_page" type="hidden" value="0">
<input id="size_notifications1" name="page_size" type="hidden" value="50">




    <div class="container">

        <div class="row">
            <!-- form: -->

            <section>



<br>
                <div class="col-lg-8 col-lg-offset-2">
                    <form id="defaultForm" method="post" action="index.html" class="form-horizontal">
                        
                           
							<div class="form-group">
                                <label class="col-lg-3 control-label">上传</label>
                                <div class="col-lg-5">
                                    <img class="img_logo" src="images/logo.png" />
                                </div>
								
                            </div>
							<fieldset>
							<legend>基本信息</legend>
							<div class="form-group">
                                <label class="col-lg-3 control-label">company id</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" name="idCompany" id="idCompany"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-3 control-label">公司名</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" name="companyName" id="companyName"/>
                                </div>
                            </div>
							<div class="form-group">
                                <label class="col-lg-3 control-label">描述</label>
								<div class="col-lg-5">
		                            <textarea class="form-control" name="des" id="des" rows="3" data-bv-stringlength data-bv-stringlength-max="1024" data-bv-stringlength-message="The bio must be less than 1024 characters long"></textarea>
                        		</div>
                            </div>
							<div class="form-group">
                                <label class="col-lg-3 control-label">规模</label>
                                <div class="col-lg-5">
                                    <select class="form-control" name="companySize[idDic]:number" id="companySize.idDic">
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-3 control-label">行业</label>
                                <div class="col-lg-5">
                                    <select class="form-control" name="companyType[idDic]:number" id="companyType.idDic">
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-3 control-label">性质</label>
                                <div class="col-lg-5">
                                    <select class="form-control" name="companyNature[idDic]:number" id="companyNature.idDic">
                                        <option value="">-- 选择 --</option>

                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-3 control-label">电话</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" name="tel" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-3 control-label">传真</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" name="fax" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-lg-3 control-label">邮箱</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" name="email" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-3 control-label">城市</label>
                                <div class="col-lg-5">
                                    <select class="form-control" name="Province" style="width:50%;display:inline;" id="province">
                                        <option value="-100">-- 选择省（市） --</option>
                                    </select><select class="form-control" name="City"  style="width:50%;display:inline;" id="city">
                                        <option value="-100">-- 选择城市 --</option>

                                    </select>
									 <select class="form-control" name="district" id="district">
                                        <option value="-100">-- 选择区 --</option>

                                    </select>
                                </div>
                            </div>
						  	<div class="form-group">
                                <label class="col-lg-3 control-label">详细地址</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" name="address" />
                                </div>
                            </div>
						  	<div class="form-group">
                                <label class="col-lg-3 control-label">邮政编码</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" name="zip" />
                                </div>
                            </div>
						  	<div class="form-group">
                                <label class="col-lg-3 control-label">网址</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" name="website" />
                                </div>
                            </div>
							<div class="form-group">
                                <label class="col-lg-3 control-label">成立日期</label>
                                <div class="col-lg-5">
                                    <div class='input-group date' id='datetimepicker1'>
										<input type='text' class="form-control" />
										<span class="input-group-addon">
											<span class="glyphicon glyphicon-calendar"></span>
										</span>
									</div>
							        <script type="text/javascript">
										$(function () {
											$('#datetimepicker1').datetimepicker();
										});
									</script>
                                </div>
                            </div>
							
							<div class="form-group">
                                <label class="col-lg-3 control-label">系统注册人</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" readOnly="true" name="web" />
                                </div>
                            </div>
							<div class="form-group">
                                <label class="col-lg-3 control-label">系统注册时间</label>
                                <div class="col-lg-5">
                                    <input type="text" class="form-control" readOnly="true" name="regtime" />
                                </div>
                            </div>
							




                        <div class="form-group">
                            <div class="col-lg-9 col-lg-offset-3">
                                <button type="submit" class="btn btn-primary">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </section>
            <!-- :form -->
        </div>
    </div>

<script type="text/javascript">
$(document).ready(function() {

	$('#companySize\\.idDic').selectautofill('dic/companySize');
    $('#companyType\\.idDic').selectautofill('dic/companyType');
    $('#companyNature\\.idDic').selectautofill('dic/companyNature');
    $.companyInfo(store.get('JMS-TOKEN'),function(company){
                     $('#defaultForm').populate(company,true);
                 });
    $('#province').selectautofill('dic/provinces');
	$('#province').change(function(){ $('#city option').each(function(){if($(this).val()!='-100'){$(this).remove()};});var idProvince = $('#province').val();  $('#city').selectautofill('dic/provinces/'+idProvince+'/cities');                });
	
	$('#city').change(function(){ $('#district option').each(function(){if($(this).val()!='-100'){$(this).remove()};});var idCity = $('#city').val();  $('#district').selectautofill('dic/cities/'+idCity+'/districts');                });
	
    $('#defaultForm').bootstrapValidator({
        message: 'This value is not valid',
        feedbackIcons: {
            valid: 'glyphicon glyphicon-ok',
            invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },
        fields: {
            username: {
                message: '用户名不合法。',
                validators: {
                    /*notEmpty: {
                        message: 'The username is required and can\'t be empty'
                    },*/
                    stringLength: {
                        min: 2,
                        max: 15,
                        message: '长度必须大于2小于15个字符'
                    },
                    regexp: {
                        regexp: /^[a-zA-Z0-9_\.]+$/,
                        message: '只能是字符、数字、点、下划线。'
                    }
                }
            },

            acceptTerms: {
                validators: {
                    notEmpty: {
                        message: '请点击接受使用协议。'
                    }
                }
            },
            email: {
                validators: {
                    /*notEmpty: {
                        message: 'The email address is required and can\'t be empty'
                    },*/
                    emailAddress: {
                        message: '邮箱格式不合法。'
                    }
                }
            },
            website: {
                validators: {
                    uri: {
                        allowLocal: true,
                        message: 'The input is not a valid URL'
                    }
                }
            },


            phoneNumber: {
                validators: {
                    //notEmpty: {},
                    digits: {},
                    phone: {
						//message: '电话号码不合法'
                        country: 'CN'
                    }
                }
            },
            color: {
                validators: {
                    hexColor: {
                        message: 'The input is not a valid hex color'
                    }
                }
            },
            zipCode: {
                validators: {
                    zipCode: {
                        country: 'US',
                        message: 'The input is not a valid US zip code'
                    }
                }
            },
            password: {
                validators: {
                    notEmpty: {
                        message: '密码不能为空'
                    },
                    identical: {
                        field: 'confirmPassword',
                        message: '密码与确认密码不同！'
                    }
                }
            },
            confirmPassword: {
                validators: {
                    notEmpty: {
                        message: '确认密码不能为空'
                    },
                    identical: {
                        field: 'password',
                        message: '密码与确认密码不同！'
                    }
                }
            },
            ages: {
                validators: {
                    lessThan: {
                        value: 100,
                        inclusive: true,
                        message: 'The ages has to be less than 100'
                    },
                    greaterThan: {
                        value: 10,
                        inclusive: false,
                        message: 'The ages has to be greater than or equals to 10'
                    }
                }
            }
        }
    });
});
</script>
